document.querySelector('#news').innerHTML +=("<%= j render(partial: 'snippets', collection: @response, as: :id) %>")
<% if @response.next_page %>
  var pagination = document.querySelector('.pagination');
  var in_scroll = document.querySelector('#infinite-scrolling');
  in_scroll.removeChild(pagination)
  in_scroll.innerHTML = ('<%= j will_paginate @response %>');
<% else %>
  document.querySelector('#news').innerHTML +=("End of pages")
  var pagination = document.querySelector('.pagination');
  var in_scroll = document.querySelector('#infinite-scrolling');
  window.removeEventListener('scroll')
  in_scroll.removeChild(pagination);
<% end %>